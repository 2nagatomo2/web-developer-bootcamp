# Express

- Node.js の 最小限の web フレームワーク
  - フレームワークの制約が多くなればなるほど，高速な開発が可能

## ライブラリとフレームワークの違い

### 主従関係の違い

- ライブラリを使うとき，主体が自分である
- フレームワークでの主体はフレームワークで，自分がフレームワークのフローに従う

## Express のメリット

- リクエストを受け付けるサーバーの起動
- リクエストのパース
- リクエストとルーティングのマッピング
- HTTP レスポンス

## express のメソッド

app オブジェクトを以下のように定義したとする

```javascript
const express = require("express");
const app = express();
```

### listen

`app.listen({{port}}, {{callBack}})`

- 指定されたポート番号でサーバーを起動し，HTTP リクエストの待ち受けを開始する

### use

`app.use((req, res) => {call backの処理})`

- 全ての HTTP リクエストに対して実行されるメソッド

### get

`app.get((path), (req, res) => {call backの処理})`

- HTTP の get リクエストの処理が走る
- 第一引数は path
- 第二引数はコールバック関数
- 第一引数に`"*"`を設定すると，ワイルドカードとなり，全ての path に対してマッチングが成立する
- マッチングはファイルの上から行われるため，ワイルドカードは get メソッドの中で最も下に位置していなければならない

### post

`app.post((path), (req, res) => {call backの処理})`

## パスパラメータ

- path の中で`/path/:param`のようにすると，req オブジェクト中の`params`というプロパティがの中に `param`をキーとするオブジェクトができる
- `path/:param1/:param2`のように複数設定することもできる

## クエリストリング

- クエリストリングを指定したとき，req オブジェクトの`query`プロパティの中にオブジェクト要素が入る

## nodemon

- `npm i -g nodemon`でグローバルインストールできる
- `nodemon {{nodeapp}}`で nodeapp に指定したファイルの配下にあるファイルの変更を検知して，サーバーを再起動してくれる
- いちいちサーバーを手動で再起動する必要がないため，開発効率の向上が見込める
